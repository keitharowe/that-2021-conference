!function(){"use strict";function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,r=!1,l=void 0;try{for(var a,i=t[Symbol.iterator]();!(o=(a=i.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,l=t}finally{try{o||null==i.return||i.return()}finally{if(r)throw l}}return n}(t,n)||e(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}angular.module("nc.components",[]),angular.module("nc",["nc.components"]).constant("ncStrings",{editorName:"NestingContently",nc:{disabledClass:"umb-nested-content__item--disabled",itemClass:".umb-nested-content__item"},bl:{disabledClass:"umb-block-list__block--disabled",itemClass:".umb-block-list__block"}}),angular.module("umbraco").requires.push("nc");var o,r=/<div class="umb-nested-content__icons">/gim,l=/<div class="umb-block-list__block--actions">/gim,a=function(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=e(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,l=function(){};return{s:l,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==o.return||o.return()}finally{if(c)throw a}}}}(angular.module("umbraco")._invokeQueue);try{for(a.s();!(o=a.n()).done;){var i=o.value,c=i[2][0];"nestedContentPropertyEditor"===c?i[2][1].template=i[2][1].template.replace(r,'$&<nc-toggle node="node" index="$index" type="nc"></nc-toggle>'):"umbBlockListRow"===c&&(i[2][1].template=i[2][1].template.replace(l,'$&<nc-toggle node="vm.layout.$block" index="vm.index" type="bl"></nc-toggle>'))}}catch(t){a.e(t)}finally{a.f()}angular.module("nc.components").component("ncToggle",{transclude:!0,bindings:{node:"<",index:"<",type:"@"},controller:["$element","$rootScope","localizationService","ncStrings",function(e,n,o,r){var l=this,a={},i={},c=!1;o.localizeMany(["actions_enable","actions_disable"]).then((function(e){var n=t(e,2),o=n[0],r=n[1];i={enable:o,disable:r}}));var s=function(t){return e.closest(r[l.type].itemClass)[0].classList[t](r[l.type].disabledClass)},u=function(){return l.iconTitle=c?i.enable:i.disable};this.toggle=function(){c=!c,a.value=c?"1":"0","nc"===l.type&&n.$broadcast("ncDisabledToggle",{value:a.value,key:l.node.key}),u(),s("toggle")},this.$onInit=function(){l.node&&((a=("nc"===l.type?l.node:l.node.content).variants[0].tabs[0].properties.find((function(t){return t.editor===r.editorName})))?(c="1"===a.value,u(),c&&s("add")):e[0].style.display="none")}}],template:'<button type="button" class="umb-nested-content__icon umb-nested-content__icon--disable" \n\t\t\ttitle="{{ $ctrl.iconTitle }}" \n\t\t\tng-click="$ctrl.toggle(); $event.stopPropagation()">\n\t\t\t<i class="icon icon-power" aria-hidden="true"></i>\n\t\t\t<span class="sr-only">\n\t\t\t\t{{ $ctrl.iconTitle }}\n\t\t\t</span>\n\t\t</button>'}),angular.module("umbraco").controller("nestingContentlyController",["$scope","$element",function(t,e){var n=e[0].closest(".umb-nested-content-property-container"),o=null!==n;if((n=n||e[0].closest("umb-property"))&&(n.style.display="none"),o){var r=t.$parent.$parent;do{r=r.$parent}while(!Object.prototype.hasOwnProperty.call(r,"ngModel"));var l=r.ngModel.key;t.$on("ncDisabledToggle",(function(e,n){l===n.key&&(t.model.value=n.value)}))}}])}();
